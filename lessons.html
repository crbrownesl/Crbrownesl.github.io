<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lessons - Connor ESL</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="css/style.css">
<style>
body { 
  font-family: Arial, sans-serif; 
  margin: 0; 
  padding: 0; 
  background: #f9f9f9; 
  color: #333; 
  font-size: 1.1rem; 
  line-height: 1.6; 
}

.container { 
  width: 90%; 
  max-width: 1200px; 
  margin: 0 auto; 
  padding: 2rem 0; 
}

/* Header and top nav */
header {
  background-color: #4b2e2e; /* brown color */
  color: #fff;
  height: 120px; /* fixed height to match other pages */
  display: flex;
  align-items: center;
  padding: 0 20px;
  box-sizing: border-box;
}

header .brand {
  display: flex;
  align-items: center;
  gap: 1rem;
}

header .brand img {
  max-height: 80px; /* logo height same as other pages */
  width: auto;
}

header nav ul {
  display: flex;
  gap: 1.5rem;
  list-style: none;
  padding-left: 0;
  margin: 0;
  flex-wrap: wrap;
}

header nav ul li a {
  color: #fff;
  text-decoration: none;
  font-weight: bold;
}

nav ul li a.active {
  text-decoration: underline;
}

/* Cart dropdown */
#cart-dropdown {
  display: none;
  position: absolute;
  background: #fff;
  border: 1px solid #ccc;
  width: 260px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  z-index: 1000;
  padding: 12px;
  font-size: 1rem;
}
#cart-dropdown p { color: #000; margin:0; }
#cart-dropdown .cart-item {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px solid #eee;
  color: #000;
}
#cart-dropdown .remove-btn { cursor: pointer; color: #c0392b; font-weight: bold; }
.checkout-btn {
  display: block;
  background: #0070ba;
  color: #fff;
  text-align: center;
  padding: 12px;
  margin-top: 12px;
  border-radius: 5px;
  text-decoration: none;
  font-size: 1rem;
}

/* Lessons collapsibles */
.collapsible { 
  background-color: #4b2e2e; 
  color: white; 
  cursor: pointer; 
  padding: 1.2rem; 
  width: 100%; 
  border: none; 
  text-align: left; 
  outline: none; 
  font-size: 1.2rem; 
  border-radius: 5px; 
  margin-bottom: 1rem; 
}
.collapsible:hover { 
  background-color: #36211b; 
}
.content { 
  padding: 1.5rem; 
  display: none; 
  overflow: hidden; 
  background-color: #fff; 
  border-radius: 0 0 5px 5px; 
  margin-bottom: 2rem; 
  box-shadow: 0 2px 6px rgba(0,0,0,0.1); 
}
.lesson-item { 
  text-align: center; 
  padding: 1.5rem 1rem; 
}
.lesson-item p { 
  max-width: 600px; 
  margin: 0.5rem auto 1.5rem; 
  font-size: 1.05rem; 
}
.lesson-item h3 { 
  margin-bottom: 0.8rem; 
}
.lesson-item ul { 
  text-align: center; 
  list-style-position: inside; 
  padding-left: 0; 
  margin-top: 1rem; 
  margin-bottom: 1.5rem; 
}
.lesson-item li { 
  margin-bottom: 8px; 
}
.add-cart-btn { 
  background-color: #FFD140; 
  color: #000; 
  border: none; 
  padding: 12px 24px; 
  border-radius: 5px; 
  font-weight: bold; 
  cursor: pointer; 
  font-size: 1rem; 
  margin-top: 0.5rem; 
}

/* Why Choose section */
.why-choose {
  background-color: #4b2e2e; 
  color: #fff; 
  padding: 2.5rem; 
  margin-top: 2.5rem; 
  border-radius: 8px; 
  box-shadow: 0 2px 8px rgba(0,0,0,0.1); 
}
.why-choose h2 { 
  color: #fff; 
  margin-bottom: 1rem; 
}
.why-choose ul { 
  list-style: disc; 
  margin-left: 2rem; 
  margin-bottom: 1.5rem; 
}

/* Footer */
footer { 
  text-align:center; 
  padding:1rem 0; 
  background:#4b2e2e; 
  color:#fff; 
  margin-top:2rem; 
  border-radius: 0 0 10px 10px; 
}

/* Responsive */
@media (max-width:768px){
  header .brand {
    flex-direction: column;
    align-items: flex-start;
  }
  header nav ul {
    flex-direction: column;
    gap: 0.8rem;
  }
}
</style>
</head>
<body>

<header>
  <div class="container nav-wrap" style="position:relative;">
    <a href="index.html" class="brand">
      <img src="images/cesl-logo.png" alt="Connor ESL Logo">
      <h1>Connor ESL</h1>
    </a>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="lessons.html" class="active">Lessons</a></li>
        <li><a href="schedule.html">Schedule</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li style="position:relative;">
          <a class="cart-link" id="cart-toggle">
            <i class="fas fa-shopping-cart"></i> <span id="cart-count">0 product(s)</span>
          </a>
          <div id="cart-dropdown" style="top:100%; right:0;"></div>
        </li>
      </ul>
    </nav>
  </div>
</header>

<main class="container">
  <h1>Private English Lessons (Online Only)</h1>
  <p>All lessons are private and fully online. Click on a section below to view available lessons and packages.</p>

  <!-- Individual -->
  <button class="collapsible">Individual Lessons</button>
  <div class="content">
    <div class="lesson-item">
      <h3>Standard Lesson (45 min) - $15</h3>
      <p>Perfect for trying my teaching style or fitting in a short, focused session.</p>
      <button class="add-cart-btn" onclick="addToCart('Standard Lesson (45 min)',15)">Add to Cart</button>
    </div>
    <div class="lesson-item">
      <h3>Full Lesson (60 min) - $18</h3>
      <p>Extra time for in-depth practice in conversation, grammar, reading, and writing.</p>
      <button class="add-cart-btn" onclick="addToCart('Full Lesson (60 min)',18)">Add to Cart</button>
    </div>
  </div>

  <!-- Adults -->
  <button class="collapsible">Adults (18+)</button>
  <div class="content">
    <div class="lesson-item">
      <p>My private online lessons for adults focus on practical English skills for everyday life, travel, work, and social interactions. I also offer Cambridge exam prep (PET, FCE, CAE).</p>
      <ul>
        <li>Fully online – learn from home</li>
        <li>Tailored to your level and goals</li>
        <li>Flexible scheduling</li>
      </ul>
    </div>
    <div class="lesson-item">
      <h3>5-Hour Package - $90</h3>
      <button class="add-cart-btn" onclick="addToCart('Adults 5-Hour Package',90)">Add to Cart</button>
    </div>
    <div class="lesson-item">
      <h3>10-Hour Package - $170</h3>
      <button class="add-cart-btn" onclick="addToCart('Adults 10-Hour Package',170)">Add to Cart</button>
    </div>
    <div class="lesson-item">
      <h3>20-Hour Package - $320</h3>
      <button class="add-cart-btn" onclick="addToCart('Adults 20-Hour Package',320)">Add to Cart</button>
    </div>
  </div>

  <!-- Teens -->
  <button class="collapsible">Teens (13–17)</button>
  <div class="content">
    <div class="lesson-item">
      <p>My private online lessons for teens focus on school support, exam prep, and conversational skills. Cambridge exam prep is also available for PET or FCE certification.</p>
      <ul>
        <li>Fun, interactive online sessions</li>
        <li>Tailored for teen learning styles</li>
        <li>Focus on practical and academic English</li>
      </ul>
    </div>
    <div class="lesson-item">
      <h3>5-Hour Package - $90</h3>
      <button class="add-cart-btn" onclick="addToCart('Teens 5-Hour Package',90)">Add to Cart</button>
    </div>
    <div class="lesson-item">
      <h3>10-Hour Package - $170</h3>
      <button class="add-cart-btn" onclick="addToCart('Teens 10-Hour Package',170)">Add to Cart</button>
    </div>
    <div class="lesson-item">
      <h3>20-Hour Package - $320</h3>
      <button class="add-cart-btn" onclick="addToCart('Teens 20-Hour Package',320)">Add to Cart</button>
    </div>
  </div>

  <!-- Why Choose -->
  <section class="why-choose">
    <h2>Why Choose My Private Classes?</h2>
    <ul>
      <li>Adaptability: Online classes that adapt to your schedule and needs.</li>
      <li>Personalized Programs: Designed to help you achieve your specific goals.</li>
      <li>Exclusive Attention: Classes for 1 person, so you get all the focus.</li>
      <li>Qualified Teacher: With extensive experience teaching English as a second language.</li>
    </ul>
    <p><strong>After checkout, please visit the <a href="schedule.html">Schedule</a> page to book your lesson.</strong></p>
  </section>
</main>

<footer>
  <p>© 2025 Connor Brown</p>
</footer>

<script>
// Collapsible
document.querySelectorAll(".collapsible").forEach(btn => {
  btn.addEventListener("click", function() {
    const content = this.nextElementSibling;
    content.style.display = content.style.display === "block" ? "none" : "block";
  });
});

// Cart
let cart = JSON.parse(localStorage.getItem('cart')) || [];
const dropdownEl = document.getElementById('cart-dropdown');
const toggleBtn = document.getElementById('cart-toggle');

function updateCartUI() {
  const countEl = document.getElementById('cart-count');
  countEl.textContent = `${cart.length} product(s)`;
  dropdownEl.innerHTML = '';
  if(cart.length === 0){
    dropdownEl.innerHTML = '<p>Your cart is empty.</p>';
  } else {
    cart.forEach((item,index)=>{
      const div = document.createElement('div');
      div.className='cart-item';
      div.innerHTML=`<span>${item.name}</span><span>$${item.price.toFixed(2)} <span class="remove-btn" onclick="removeFromCart(${index})">&times;</span></span>`;
      dropdownEl.appendChild(div);
    });
    const total = cart.reduce((sum,item)=>sum+item.price,0);
    const checkout=document.createElement('a');
    checkout.href='#';
    checkout.className='checkout-btn';
    checkout.textContent=`Checkout ($${total.toFixed(2)})`;
    checkout.onclick=checkoutCart;
    dropdownEl.appendChild(checkout);
  }
}

function addToCart(name, price) {
  cart.push({name, price});
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartUI();
}

function removeFromCart(index){
  cart.splice(index,1);
  localStorage.setItem('cart',JSON.stringify(cart));
  updateCartUI();
}

function checkoutCart(e){
  e.preventDefault();
  if(cart.length === 0) return alert("Your cart is empty!");
  let url='https://www.paypal.com/cgi-bin/webscr?cmd=_cart&upload=1&business=crbrown.esl@gmail.com';
  cart.forEach((item,index)=>{
    url+=`&item_name_${index+1}=${encodeURIComponent(item.name)}&amount_${index+1}=${item.price}&quantity_${index+1}=1`;
  });
  window.open(url,'_blank');
}

toggleBtn.addEventListener('click',()=>{
  dropdownEl.style.display = dropdownEl.style.display==='block' ? 'none' : 'block';
});

document.addEventListener('click',(e)=>{
  if(!toggleBtn.contains(e.target) && !dropdownEl.contains(e.target)){
    dropdownEl.style.display='none';
  }
});

updateCartUI();
</script>
</body>
</html>
