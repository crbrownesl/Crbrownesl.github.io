<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pricing - Connor ESL</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="css/style.css">
<style>
/* Basic Reset */
body, h1, h2, h3, p, ul, li { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: Arial, sans-serif; line-height: 1.6; background-color: #f9f9f9; color: #333; }
.container { width: 90%; max-width: 1200px; margin: 0 auto; }

/* Header/Nav */
header { background-color: #0070ba; color: #fff; padding: 1rem 0; }
header .brand { display: flex; align-items: center; gap: 10px; text-decoration: none; color: #fff; }
header .brand img { height: 50px; border-radius: 5px; }
nav ul { list-style: none; display: flex; gap: 20px; align-items: center; }
nav ul li { position: relative; }
nav ul li a { text-decoration: none; color: #fff; font-weight: bold; }
nav ul li a.active { text-decoration: underline; }

/* Cart */
nav ul li a.cart-link { display: flex; align-items: center; gap: 5px; cursor: pointer; color: #fff; }
.cart-dropdown-content {
  display: none; position: absolute; right: 0; background-color: #fff; color: #000; min-width: 250px;
  border: 1px solid #ccc; box-shadow: 0 8px 16px rgba(0,0,0,0.2); padding: 10px; z-index: 100;
  max-height: 300px; overflow-y: auto; border-radius: 5px;
}
.cart-item { display: flex; justify-content: space-between; padding: 5px 0; color: #000; }
.cart-item span:first-child { font-weight: bold; }
.remove-btn { color: red; cursor: pointer; margin-left: 5px; font-size: 0.85rem; }
.checkout-btn {
  margin-top: 10px; display: block; width: 100%; text-align: center;
  background-color: #0070ba; color: white; text-decoration: none; padding: 10px;
  border-radius: 5px; font-weight: bold;
}

/* Main Content */
main { padding: 2rem 0; }
.pricing-section { background-color: #fff; padding: 2rem; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
.pricing-section h1 { font-size: 2rem; margin-bottom: 1.5rem; color: #0070ba; }
.pricing-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); gap: 20px; }
.pricing-card { background-color: #f1f1f1; padding: 1.5rem; border-radius: 10px; text-align: center; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
.pricing-card h3 { margin-bottom: 0.5rem; color: #0070ba; }
.pricing-card p { margin-bottom: 0.5rem; }
.pricing-card .price { font-size: 1.25rem; font-weight: bold; margin-bottom: 1rem; }
.pricing-card button { background-color: #FFD140; color: #000; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }
</style>
</head>
<body>

<header>
    <div class="container nav-wrap">
        <a href="index.html" class="brand">
            <img src="images/cesl-logo.png" alt="Connor ESL Logo" class="cesl-logo">
            <h1 class="logo">Connor ESL</h1>
        </a>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="pricing.html" class="active">Pricing</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="schedule.html">Schedule</a></li>
                <li class="cart-dropdown">
                  <a class="cart-link" id="cart-toggle"><i class="fas fa-shopping-cart"></i> <span id="cart-count">0</span> product(s)</a>
                  <div class="cart-dropdown-content" id="cart-dropdown"></div>
                </li>
            </ul>
        </nav>
    </div>
</header>

<main>
    <section class="pricing-section">
        <h1>Pricing</h1>
        <div class="pricing-grid">
            <div class="pricing-card">
                <h3>Standard Lesson</h3>
                <p>45 minutes</p>
                <p class="price">$15</p>
                <button onclick="addToCart('Standard Lesson',15)">Add to Cart</button>
            </div>
            <div class="pricing-card">
                <h3>Full Lesson</h3>
                <p>60 minutes</p>
                <p class="price">$18</p>
                <button onclick="addToCart('Full Lesson',18)">Add to Cart</button>
            </div>
            <div class="pricing-card">
                <h3>Package: 45 min × 5 Lessons</h3>
                <p>Regular: $75 | Package: $70 | Save $5 (≈7%)</p>
                <button onclick="addToCart('45min × 5 Lessons',70)">Add to Cart</button>
            </div>
            <div class="pricing-card">
                <h3>Package: 60 min × 5 Lessons</h3>
                <p>Regular: $90 | Package: $85 | Save $5 (≈6%)</p>
                <button onclick="addToCart('60min × 5 Lessons',85)">Add to Cart</button>
            </div>
            <div class="pricing-card">
                <h3>Package: 45 min × 10 Lessons</h3>
                <p>Regular: $150 | Package: $135 | Save $15 (≈10%)</p>
                <button onclick="addToCart('45min × 10 Lessons',135)">Add to Cart</button>
            </div>
            <div class="pricing-card">
                <h3>Package: 60 min × 10 Lessons</h3>
                <p>Regular: $180 | Package: $162 | Save $18 (≈10%)</p>
                <button onclick="addToCart('60min × 10 Lessons',162)">Add to Cart</button>
            </div>
        </div>
        <p style="margin-top: 2rem;">Email for more information on scheduling for packages.</p>
    </section>
</main>

<footer>
    <p>© 2025 Connor Brown</p>
</footer>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];
const dropdownEl = document.getElementById('cart-dropdown');
const toggleBtn = document.getElementById('cart-toggle');

function updateCartUI() {
  const countEl = document.getElementById('cart-count');
  countEl.textContent = cart.length;
  dropdownEl.innerHTML = '';
  if(cart.length === 0){
    dropdownEl.innerHTML = '<p>Your cart is empty.</p>';
  } else {
    cart.forEach((item,index)=>{
      const div = document.createElement('div');
      div.className='cart-item';
      div.innerHTML=`<span>${item.name}</span><span>$${item.price.toFixed(2)} <span class="remove-btn" onclick="removeFromCart(${index})">&times;</span></span>`;
      dropdownEl.appendChild(div);
    });
    const total = cart.reduce((sum,item)=>sum+item.price,0);
    const checkout=document.createElement('a');
    checkout.href='#';
    checkout.className='checkout-btn';
    checkout.textContent=`Checkout ($${total.toFixed(2)})`;
    checkout.onclick=checkoutCart;
    dropdownEl.appendChild(checkout);
  }
}

function removeFromCart(index){
  cart.splice(index,1);
  localStorage.setItem('cart',JSON.stringify(cart));
  updateCartUI();
}

function checkoutCart(e){
  e.preventDefault();
  if(cart.length === 0) return alert("Your cart is empty!");
  let url='https://www.paypal.com/cgi-bin/webscr?cmd=_cart&upload=1&business=crbrown.esl@gmail.com';
  cart.forEach((item,index)=>{
    url+=`&item_name_${index+1}=${encodeURIComponent(item.name)}&amount_${index+1}=${item.price}&quantity_${index+1}=1`;
  });
  window.open(url,'_blank');
}

toggleBtn.addEventListener('click',()=>{
  dropdownEl.style.display = dropdownEl.style.display==='block' ? 'none' : 'block';
});

updateCartUI();

document.addEventListener('click',(e)=>{
  if(!toggleBtn.contains(e.target) && !dropdownEl.contains(e.target)){
    dropdownEl.style.display='none';
  }
});

function addToCart(name,price){
  cart.push({name:name,price:price});
  localStorage.setItem('cart',JSON.stringify(cart));
  updateCartUI();
}
</script>

</body>
</html>
